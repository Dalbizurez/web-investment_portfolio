<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Your Report is Ready</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:#333; background:#f4f4f4; margin:0; }
    .container { max-width:600px; margin:20px auto; background:#fff; border-radius:8px; overflow:hidden; box-shadow:0 2px 4px rgba(0,0,0,.1); }
    .header { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; padding:32px 24px; text-align:center; }
    .content { padding:28px 24px; }
    .info { background:#f8f9fa; border-radius:6px; padding:16px; margin:16px 0; }
    .btn { display:inline-block; padding:12px 18px; background:#4f46e5; color:#fff; text-decoration:none; border-radius:6px; font-weight:600; }
    .muted { color:#6c757d; font-size:13px; }
    .footer { background:#f8f9fa; text-align:center; padding:16px; color:#6c757d; font-size:14px; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header"><h1>Your Report is Ready</h1></div>
    <div class="content">
      <p>Hello {{ username }},</p>
      <p>Your {{ report_format }} report has been generated.</p>
      <div class="info">
        <div><strong>Date range:</strong>
          {% if date_from %} {{ date_from }} {% else %} beginning {% endif %} â€”
          {% if date_to %} {{ date_to }} {% else %} today {% endif %}
        </div>
        <div><strong>Requested:</strong> {{ created_at|date:"Y-m-d H:i:s" }} UTC</div>
      </div>
      {% if file_url %}
        <p><a class="btn" href="{{ file_url }}">Download report</a></p>
      {% else %}
        <p class="muted">No file URL is available.</p>
      {% endif %}
      <p class="muted" style="margin-top:24px;">This is an automated notification. Please do not reply to this email.</p>
    </div>
    <div class="footer">&copy; 2025 Investment Portfolio Platform</div>
  </div>
</body>
</html>
